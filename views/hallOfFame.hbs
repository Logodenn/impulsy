<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Impulsy - Ride the music!</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/css/pages/hallOfFame.css" rel="stylesheet">
        <script src="/js/utils.js"></script>
    </head>
    <body>

        {{> menu hallOfFame="true" }}

        <section class="content">

            <h1 class="title">Hall of fame</h1>

            {{#if userRank}}
                <table>
                    <thead>
                        <tr>
                            <th>My rank</th>
                            <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                            <th>My cumulated score</th>
                        </tr>
                    </thead>
                    <tbody id="rank">
                            <tr>
                                <td>{{userRank.rank}}</td>
                                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                <td>{{userRank.score_total}}</td>
                            </tr>
                    </tbody>
                </table>
            {{/if}}

            <table>
                {{!-- TODO handle case where table is huge --}}
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player</th>
                        <th>Cumulated score</th>
                    </tr>
                </thead>
                <tbody id="rank">
                    {{#each ranks}}
                        <tr>
                            <td>{{rank}}</td>
                            <td>{{pseudo}}</td>
                            <td>{{score_total}}</td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>

            {{#if userConnected}}
                <div id="userData" class="flex-col">
                    {{!-- TODO get the cumulated score of the login user --}}
                    <span>Your cumulated score is {{score_total}}</span>
                    <span>Your rank is {{rank}}</span>
                </div>
            {{/if}}

        </section>
        
    </body>
    <script src="js/hallOfFame.js"></script>
</html>